# Table of Contents
- [Table of Contents](#table-of-contents)
- [May](#may)
  - [2021/5/30](#2021530)
  - [2021/5/23](#2021523)
  - [2021/5/18](#2021518)
  - [2021/5/13](#2021513)
  - [2021/5/12](#2021512)
  - [2021/5/10](#2021510)
  - [2021/4/26](#2021426)
  - [2021/4/24](#2021424)
  - [2021/4/15](#2021415)
  - [2021/4/13](#2021413)
  - [2021/4/12](#2021412)
  - [2021/4/7](#202147)
  - [2021/4/6](#202146)
  - [2021/4/2](#202142)
  - [2021/3/31](#2021331)
  - [2021/3/28](#2021328)
  - [2021/3/24](#2021324)
  - [2021/3/23](#2021323)
  - [2021/3/22](#2021322)
  - [2021/3/21](#2021321)
  - [2021/3/18](#2021318)
  - [2021/3/17](#2021317)
  - [2021/3/16](#2021316)
  - [2021/3/11](#2021311)
  - [2021/3/9](#202139)
  - [2021/3/8](#202138)
  - [2021/3/7](#202137)
  - [2021/3/2](#202132)
  - [2021/2/28](#2021228)
  - [2021/2/25](#2021225)
  - [2021/2/24](#2021224)
  - [2021/2/22](#2021222)
  - [2021/2/21](#2021221)
  - [2021/2/18](#2021218)
  - [2021/2/17](#2021217)
  - [2021/2/16](#2021216)
  - [2021/2/15](#2021215)
  - [2021/2/14](#2021214)
  - [2021/2/1](#202121)
- [January](#january)
  - [2021/1/28](#2021128)
  - [2021/1/26](#2021126)
  - [2021/1/19](#2021119)
  - [2021/1/17](#2021117)
  - [2021/1/14](#2021114)
  - [2021/1/13](#2021113)
  - [2021/1/12](#2021112)
  - [2021/1/11](#2021111)
  - [2021/1/10](#2021110)
  - [2022/1/5](#202215)
  - [2021-01-04](#2021-01-04)


2022工作记录
<!--more-->

# May

## 2021/5/30
探究仿真分析工具在麒麟虚拟机启动可能性

## 2021/5/23
1. 右手边机器（麒麟主机）ip：192.168.122.1，其修改后的监听地址为192.168.3:xxxx（gitlab访问地址）
## 2021/5/18
1. 右手边机器驱动：NVIDIA-Linux-x86_64-450.80.02.run(NVIDIA-Linux-x86_64-375.39.run不确定，可以试试，但是osg好像不太好用了，会报系统的错)
2. 

## 2021/5/13
1. Linux下并行运算方法替换
2. 麒麟下支持库编译

## 2021/5/12
分别编译编译1 CoverLib2、2 TXDLL、3 DKDLL、4 ECM_DLL
## 2021/5/10

1. 隔离结束
2. 魏聪笔记本显卡驱动：NVIDIA-Linux-x86_64-510.68.02.rum




## 2021/4/26
1. 报销
2. 编译kernal
3. 代码中的tinyxml是三分库还是有所修改，生成的是静态库吗



## 2021/4/24
rvt转为supermap，导出osg

## 2021/4/15
qt开发界面
ex调用库
osg静态库

## 2021/4/13
/home/nhyilin/Qt5.12.12
## 2021/4/12
编译osg以及osgerath
## 2021/4/7
/opt/Qt5.12.12
1. ubuntu可自定义qt                             太麻烦，暂时不考虑，可以其他弄完了再联网尝试
2. 麒麟1解决qt的OpenGL库问题，
3. 麒麟2重新编译，新装系统
4. 麒麟3解决显示效果问题，且同时编译osgearth
5. 麒麟4默认不安装qt等开发环境，全部自定义

## 2021/4/6
1. 解决当前报错
   1. `/home/nhyilin/myDev/OSG/gwaldron-osgearth-ac7c31d/src/osgEarth/OGRFeatureSource.cpp:42:66: error: ‘GDALDatasetGetLayerByName’ was not declared in this scope`
2. 丰富第三方库
3. 按现存版本编译
4. 两个case分开

## 2021/4/2
朱老师的表格
/usr/local/lib


   ./configure
   make
   make install

The default install location for GEOS is /usr/local.

Linux: Make sure that /usr/local/lib is added to /etc/ld.so.conf 
       Make sure that you run /sbin/ldconfig afterwards 

Solaris: Make sure that /usr/local/lib is added to LD_LIBRARY_PATH


Basic Installation


2048MB

## 2021/3/31
1. 安装cmake
   1. clang++

clang,gcc,qt,clion



## 2021/3/28
TZSatelliteSimTool
https://192.168.0.33/svn/TZSatelliteSimTool
https://192.168.0.33/svn/TZTKBCPlatform/TZTKBCPlatform


## 2021/3/24
0. 解决冲突
1. 动起来
   1. 轨道逼近绕飞
   2. 闪烁橙色激光打击
   3. 红色激光毁灭
2. 去掉多余卫星
3. `if`判断

```cpp
    /**********************************测试用例**********************************/
    QHBoxLayout* test = new QHBoxLayout(ui->widget_test);
    tempLayout_tk1->setMargin(0);

    MenuButton2* btn_test = new MenuButton2();
    btn_test->SetImage("/Image/MenuIcon/Chart.png");
    btn_test->SetLabel("电子干扰");
    test->addWidget(btn_test);
    connect(btn_test, SIGNAL(ButtonClicked()), this, SLOT(ectricDisturbAnalysis()));
```

## 2021/3/23
激光武器的自动化流程
`ui->AttackEquipment->currentText();`

## 2021/3/22
- 为啥一摸一样

## 2021/3/21
深蓝:background: rgb(37,67,146);
淡蓝:background: rgb(79, 160, 198)

## 2021/3/18
1. 标书文件报销
2. QT


## 2021/3/17
```cpp
	ui->tableWidget->horizontalHeader()->resizeSection(0, 128);
	ui->tableWidget->horizontalHeader()->resizeSection(1, 180); //设置表头第一列的宽度为150
	ui->tableWidget->horizontalHeader()->resizeSection(2, 180); //设置表头第一列的宽度为150
	ui->tableWidget->horizontalHeader()->resizeSection(3, 180); //设置表头第一列的宽度为150
```
## 2021/3/16
void Reconnaissance::on_PushButton_Compute_clicked()，计算功能图表显示被注释掉，等计算功能可用后再恢复
ReadFile函数
```cpp

#include <iostream>
#include <iomanip>
#include <fstream>
#include <sstream>
#include <vector>



int main() {

    std::ifstream myFile("D:/myDevlop/CSTK/related/test.txt");

    if (!myFile.is_open()) {
        std::cout << "Unable to open myFile";
        system("pause");
        exit(1);
    }

    std::vector<std::string> vec;
    std::string temp;

    while (getline(myFile, temp))                    //利用getline（）读取每一行，并按照行为单位放入到vector
    {
        vec.push_back(temp);
    }
    vec.erase(vec.begin());

    std::vector<double> radius;

    std::cout << "in file \n";
    for (auto it = vec.begin(); it != vec.end(); it++) {
        std::cout << *it << std::endl;
        std::istringstream is(*it);                    //用每一行的数据初始化一个字符串输入流；
        std::string s;
        int pam = 0;

        while (is >> s)                          //以空格为界，把istringstream中数据取出放入到依次s中
        {
            if (pam == 1)                       //获取第六列的数据
            {
                float r = atof(s.c_str());     //做数据类型转换，将string类型转换成float
                radius.push_back(r);
            }
            
            pam++;

        }
    }
    std::cout << "data in line 2 \n";

    for (auto it = radius.begin(); it != radius.end(); it++) {
        std::cout << *it << std::endl;
    }

    //std::cout << "successfully to open myFile";
    system("pause");
    return 1;
}
```
项目中读取数据代码
```cpp

void Reconnaissance::read_elec_visibility_result(string file)
{
    std::ifstream myFile(file);

    if (!myFile.is_open()) {
        qDebug() << "Unable to open myFile";
        return;
    }

    std::vector<std::string> vec;
    std::string temp;

    while (getline(myFile, temp))
    {
        vec.push_back(temp);
    }
     vec.erase(vec.begin());//去除第一行脏数据

    std::vector<double> parameter_01;
    std::vector<double> parameter_02;
    std::vector<double> parameter_03;

    std::cout << "in file \n";
    for (auto it = vec.begin(); it != vec.end(); it++) {
        std::cout << *it << std::endl;
        std::istringstream is(*it);
        std::string s;
        int pam = 0;

        while (is >> s)
        {
            if (pam == 6)                       //获取目标纬度列的数据
            {
                float r = atof(s.c_str());
                parameter_01.push_back(r);
            }
            pam++;
        }
    }
    resultTableShow(parameter_01, parameter_01, parameter_01);
}
```

## 2021/3/11
1. 标书报销
2. 文件读取，支持显示
3. 专家费提交材料

## 2021/3/9

- 碎片碰撞
- 文件读取，代码参见下：

```cpp
		vector<double> GDOP;
		vector<string> satsNames;
		vector<string> DateList;
		string temp;
		ifstream fin;
		QString filename = qApp->applicationDirPath() + "/GPS_result.txt";
		fin.open(QStr2Stdstr(filename));

		while (!fin.eof())
		{

			getline(fin, temp);
			vector <string> splStr = split(temp, "#");
			if (splStr.size() == 3) {
				DateList.push_back(splStr[0]);
				satsNames.push_back(splStr[1]);
				GDOP.push_back(atof(splStr[2].c_str()));
			}
		}
		if (GDOP.size() != 0) {
			m_navigateWidget->resultTableShow(GDOP, satsNames, DateList);
		}
```

## 2021/3/8

QFrame改为noframe
        <width>1496</width>
        <height>94</height>

        <width>1492</width>
        <height>90</height>

        	//reconnaissance->RannaissanceModCal();

## 2021/3/7
- InfraredWarning修改完全
- 滑条修改样式保持一致：
  ```cpp
      QFile file2(":/Image/Style/HorizontalScrollBar.qss");
      file2.open(QFile::ReadOnly);
      ui->scrollArea->horizontalScrollBar()->setStyleSheet(file2.readAll());
  ```
文件3


注释
// extern fnCreateNavigateAnalysis  Kernel_CreateNavigateAnalysis;
// extern fnCalculateGdop Kernel_CalculateGdop;
// extern fnCalculateGdopPeriod Kernel_CalculateGdopPeriod;
## 2021/3/2
下午走报销
筛选还原

## 2021/2/28

1. ui文件添加回去
2. opticsSpy


## 2021/2/25

1. 界面
   1. 字体维护一致
   2. 维护卫星帆板
   3. 按键删去最后一个

UI_DIR += ./Intemediate
OBJECT_DIR += ./Intemediate


## 2021/2/24

1. 创建新窗口
   1. 类似winNewCoverCalculate，直接复制ui文件，保持样式相同
   2. 只在cpp和h中重新写功能函数即可
   3. 留下加载星的相关函数
   4. https://192.168.0.33/svn/TZSatelliteSimTool




## 2021/2/22

1. 更新代码
2. 书签转移

moc_%(Filename).cpp
Moc'ing %(Identity)...
$(IntDir)\moc\%(RelativeDir)




## 2021/2/21

天智航天仿真分析工具待修改部分：
1. 点击按钮后高亮显示
2. 视角切换按钮
3. 导航分析的颜色修改
4. 导弹显示时序，<strike>结果显示偶尔失效</strike>
5. <strike>导弹设置全选</strike>
6. 高轨扫描角度减小，覆盖中国即可，一般为南北纬60°
7. 能力云图减少卫星加载，筛选
8. <strike>链路分析，walk100改为walk</strike>
9. 标签，是否显示，以及显示是否为空
10. <strike>能力以及示例中添加增粗的分割线</strike>
11. 启动界面
12. <strike>分辨率问题 </strike>
13. <strike>布局修改</strike>


/**********************************能力分析**********************************/

通信能力分析
1. 通信链路分析示例

导航能力分析
1. 北斗导航分析
2. GPS导航分析

预警能力分析（新增）
1. 红外预警能力分析

侦察能力分析
1. 光学侦察能力分析
2. 电子侦察能力分析

空间态势感知能力分析(后改为只有一个小分类，态势感知分析)
1. 低轨态势感知
2. 高轨态势感知

/**********************************演示实例**********************************/

星链示例
1. 早期星链分析
2. 近期星链分析

导弹突防示例
1. 导弹突防分析

卫星能力云图
1. 台海覆盖云图
2. 北京覆盖云图

碎片碰撞分析示例
1. 碎片碰撞预警示例

在轨维护示例
1. 维护太阳能帆板

/*************************************************************************/
待完成：
1. 标书报销
2. U盘报销


颜色文件：
```cpp
#include "Colors.h"

//const ST_Color Colors::PreferBlue(1.0, 0.0, 0.0, 1.0);
//const ST_Color Colors::Red(0.3372549, 0.76862745, 1.0, 1.0);
const ST_Color Colors::PreferBlue(0.3372549, 0.76862745, 1.0, 1.0);
const ST_Color Colors::Red(1.0, 0.0, 0.0, 1.0);
const ST_Color Colors::ColorDestroyed(0.3, 0.3, 0.3, 1.0);
const ST_Color Colors::ColorOdebris(1.0, 1.0, 1.0, 1.0);
const ST_Color Colors::ColorOdebrisRiskPred(1.0, 0.0, 0.0, 0.2);
const ST_Color Colors::ColorNoOdebrisRiskPred(0.3372549, 0.76862745, 1.0, 0.2);
const ST_Color Colors::PreferGreen(0.4353, 1.0, 0.761, 1.0);
const ST_Color Colors::PreferGreen2(0.42, 0.659, 0.31, 1.0);
const ST_Color Colors::Yellow(1.0, 0.737, 0.0, 1.0);
const ST_Color Colors::PreferPink(1.0,0.486,1.0,1.0);
```
R="0.3372549" G="0.76862745" B="1.000000"

## 2021/2/18
1. 8.30交物料购买
2. 8.40庄老师安装cstk


## 2021/2/17

1. 修改图标（1:00）
2. 宽度修改（2:30）
3. 部署到笔记本测试（4:00）
4. 请假（4:30）
5. 购买物料
6. 林鲲鹏侯玉琢报销弄到1.20号的审批流程



## 2021/2/16
```cpp
void DemoMenu::HeatMapRegionCoverAnalysis_Demo()
{
    closeLastSceneUI();
    closeScene();
    QString fileName = qApp->applicationDirPath() + "/DemoScene/Starlink2022.xml";
    m_currentDemoType = heatMapRegionCover;
    loadScene(fileName);
    heatmapDemoType = 1;
}
```


-		it	(Satellite13, 0x000001b8a55011d0 {m_iftransfer=false m_ifsendstartinfo=false m_ifdrawtransferpath=false ...})	std::_Tree_iterator<std::_Tree_val<std::_Tree_simple_types<std::pair<QString const ,SceneObject *> > > >


## 2021/2/15

低轨通信卫星星座通信覆盖、过境预警（东方红和星链）
碎片碰撞预警分析
侦察覆盖、重返周期分析
空间目标探测与监视分析（高轨目标态势分析）

空间目标监视分析

   低轨 高轨   天基目标监视分析

天基侦察能力分析




## 2021/2/14
修改二维场景页面的页面不填充问题

## 2021/2/1
农历新年

# January

## 2021/1/28
演示实例页面修改字体

## 2021/1/26
```cpp
	double B;//纬度
	double L;//经度
	double H;
```
卫星能力云图
 卫星能力云图



```cpp
    regionCover->AddRegionPoint({27.148000000000000, 118.41500000000001,0 });
    regionCover->AddRegionPoint({25.373000000000001, 127.58900000000000,0 });
    regionCover->AddRegionPoint({20.559999999999999, 125.93800000000000,0 });
    regionCover->AddRegionPoint({21.411999999999999, 118.18300000000001,0 });
```

## 2021/1/19
新建ui文件

1. 解决了添加按钮以及旋转动画
2. 默认读取文件
3. 分析计算页面
   1. 直接新建“区域覆盖计算”的页面，而不是“点覆盖计算”页面
   2. 设置区域覆盖计算页面卫星为全选状态
   3. 设置缺省经纬度



## 2021/1/17

添加演示实例下拉菜单，其中增加一项功能：星链分析。


## 2021/1/14

软件现状分辨率不能自适应，若想做到自适应需要重新全部布局，全部换为layout

拟定计划为设置两种分辨率，一个是现存的，另一个是高分版本



## 2021/1/13
1. 购买标书
2. 完成分辨率修改，达到可以演示的标准，但是还存在一定细节问题，需要进一步和朱老师沟通

## 2021/1/12
1. 标书购买工作的资料准备
2. 分辨率调整，尚未完成，还需要大概一到两天

## 2021/1/11
完成：
1. 配置cstk，以及分辨率的部分调整
2. 华如dds会议及使用学习
计划：
1. 分辨率的继续调整。

## 2021/1/10

$(SolutionDir)



## 2022/1/5
任务和计划：
整理代码服务器，仍未完成。大概需要一个工作日

192.168.8.141


## 2021-01-04
完成：
1. 完善git服务器，功能可正常使用，但是希望再添加借助GitLab等客户端进行团队管理功能（预计仍需半个工作日）
2. 阅读cstk代码
3. 学习c++基础知识

计划：
撰写git使用及提交规范文档

